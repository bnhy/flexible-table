!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("into-pipes"),require("drag-enabled")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","into-pipes","drag-enabled"],t):t(e["flexible-table"]={},e.ng.core,e.ng.common,e.intoPipes,e.dragEnabled)}(this,function(e,n,t,a,i){"use strict";var o=function(){function e(){this.headers=[]}return e.prototype.generateHeadersFor=function(i,o,r,l){var s=this;return null!==i&&Object.keys(i).map(function(e){var t=o.length?o+"."+e:e;if("string"==typeof i[e]||"number"==typeof i[e]||"boolean"==typeof i[e]){var n={key:t,value:s.makeWords(t),sortable:!0,dragable:!0,present:0===o.length&&s.headers.length<r};l&&(n.filter=""),s.headers.push(n)}else if(i[e]instanceof Array){var a=i[e];!a.length||a[0]instanceof Array||"string"==typeof a[0]?s.headers.push({key:t,value:s.makeWords(t)}):s.generateHeadersFor(a[0],t,r,l)}else s.generateHeadersFor(i[e],t,r,l)}),this.headers},e.prototype.retreiveHeaders=function(e,t){var n;try{n=(n=localStorage.getItem(t))&&n==e?(n=localStorage.getItem(e))?JSON.parse(n):n:undefined}catch(a){}return n},e.prototype.persistHeaders=function(e,t,n){try{localStorage.removeItem(t),localStorage.setItem(t,e),localStorage.setItem(e,JSON.stringify(n))}catch(a){}},e.prototype.makeWords=function(e){return e.replace(/\./g," ~ ").replace(/([A-Z])/g," $1").replace(/-/g," ").replace(/_/g," ").replace(/^./,function(e){return e.toUpperCase()})},e}();o.decorators=[{type:n.Injectable}],o.ctorParameters=function(){return[]};var r=function(){function e(e){this.generator=e,this.vocabulary={printTable:"Print Table",configureTable:"Configure Table",configureColumns:"Configure Columns",clickSort:"Click to Sort",setSize:"Set Size",firstPage:"First",lastPage:"Last",previousPage:"Previous"},this.tableClass="default-flexible-table",this.onaction=new n.EventEmitter,this.onCellContentEdit=new n.EventEmitter,this.onconfigurationchange=new n.EventEmitter}return e.prototype.ngOnInit=function(){if(this.persistenceKey){var e=this.generator.retreiveHeaders(this.persistenceKey,this.persistenceId);e&&(this.headers=e)}this.headers&&0!==this.headers.length||(this.headers=this.generator.generateHeadersFor(this.items[0],"",5,this.enableFiltering),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers)),!this.rowDetailer&&this.expandable&&(this.rowDetailer=function(e){return{data:e,headers:[]}}),this.updateLimits()},e.prototype.updateLimits=function(){this.subHeaders=this.headers.filter(function(e){return!0===e.present})},e.prototype.reconfigure=function(e){this.headers=e,this.updateLimits(),this.onconfigurationchange.emit(e),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers)},e.prototype.onPaginationChange=function(e){this.pageInfo=e},e.prototype.tableAction=function(e){this.onaction.emit(e)},e.prototype.onDrop=function(e){},e.prototype.onCellEdit=function(e){this.onCellContentEdit.emit(e)},e}();r.decorators=[{type:n.Component,args:[{selector:"flexible-table",template:'\n<div class="flexible-table">\n    <table-configuration\n        *ngIf="configurable && items && items.length"\n        class="table-configuration"\n        [headers]="headers"\n        [title]="vocabulary.configureColumns"\n        [printTable]="vocabulary.printTable"\n        [action]="vocabulary.configureTable"\n        [configAddon]="configAddon"\n        (onprint)="viewTable.print()"\n        (onchange)="reconfigure($event)"></table-configuration>\n    <table-view #viewTable\n        [action]="action"\n        [actionKeys]="actionKeys"\n\t\t[tableClass]="tableClass"\n\t\t[tableInfo]="tableInfo"\n\t\t[caption]="caption"\n\t\t[headers]="subHeaders"\n        [items]="items"\n        [filterwhiletyping]="filterwhiletyping"\n        [pageInfo]="pageInfo"\n        [vocabulary]="vocabulary"\n\t\t[enableIndexing]="enableIndexing"\n\t\t[enableFiltering]="enableFiltering"\n        [rowDetailer]="rowDetailer"\n        [rowDetailerHeaders]="rowDetailerHeaders"\n        [expandable]="expandable"\n        [expandIf]="expandIf"\n        (onDrop)="onDrop($event)"\n\t\t(onCellContentEdit)="onCellEdit($event)"\n        (onchange)="reconfigure($event)"\n\t\t(onaction)="tableAction($event)"></table-view>\n</div>\n<table-pagination\n    [info]="pageInfo"\n    [vocabulary]="vocabulary"\n    (onchange)="onPaginationChange($event)"></table-pagination>\n',styles:[":host{display:inline-block!important;width:100%}.flexible-table{position:relative;margin:0 auto;display:table;border-spacing:0;border-collapse:collapse}.flexible-table .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}.flexible-table table{margin:1rem auto;padding:0;width:100%;table-layout:fixed;max-width:99%;background-color:transparent;border-collapse:collapse}.flexible-table table caption{background-color:#c3e5e2;border-radius:2px;color:#1b1b1b;caption-side:top;font-size:14px;padding:5px 6px;margin-bottom:15px;text-align:left}.flexible-table table thead{border-top:1px solid #bbb;border-bottom:1px solid #bbb;background-color:#eee}.flexible-table table tr{border:0}.flexible-table table tr.expanded td{font-weight:700;border-bottom:0}.flexible-table table td{padding-left:3px}.flexible-table table td:first-child{padding-left:5px}.flexible-table table td .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}.flexible-table table td.index{background-color:#eee;border-right:1px solid #bbb}.flexible-table table th{cursor:default;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none;height:24px;position:relative;white-space:nowrap;font-weight:400;text-transform:uppercase;font-size:14px;padding-top:6px;padding-bottom:6px;text-align:left}.flexible-table table th.drag-over{background-color:#9b9b9b}.flexible-table table th.drag-over .icon,.flexible-table table th.drag-over .title{color:#eee}.flexible-table table th:first-child{padding-left:5px}.flexible-table table th.ascending,.flexible-table table th.descending,.flexible-table table th.sortable{cursor:pointer;height:12px}.flexible-table table th.indexable{width:33px}.flexible-table table th.actionable{width:24px}.flexible-table table th .title{color:#254a4d;display:inline-block;height:20px;white-space:nowrap}.flexible-table table th .dragable{cursor:move}.flexible-table table th .icon{width:22px;display:inline-block;height:20px;color:#254a4d}.flexible-table .fa.fa-angle-right{font-size:18px}.flexible-table table tr.detail td{border-top:0;cursor:default}.flexible-table table tr.expanded td a.expanded{background-position:right 2px}.flexible-table table tbody tr:hover{background-color:#ffeed2}.flexible-table table tbody tr.detail:hover,.flexible-table table tbody tr.detail:hover td table thead tr{background-color:inherit}.flexible-table table tr td a.actionable{display:inline-table;height:32px;vertical-align:middle;width:25px;line-height:30px;color:#254a4d}.flexible-table table tbody tr.detail:hover td:last-child{border-right:0}.flexible-table table tbody tr.detail:hover td:first-child{border-left:0}.flexible-table table tr td{border-bottom:1px solid #b1b3b3;color:#254a5d;font-size:15px;text-transform:capitalize}.flexible-table table tbody tr.pointer{cursor:pointer}.flexible-table table.alert-danger{border:0}.flexible-table table.alert-danger caption{background-color:transparent;font-weight:700;margin-bottom:0}.flexible-table table.alert-danger td{border-bottom:0;display:block}.flexible-table table.alert-danger td:first-child{padding-left:0}.flexible-table table.alert-danger td:last-child{border-bottom:0}.flexible-table table.alert-danger td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase;width:20%}.flexible-table table.alert-danger td a span.icon{width:100%}.flexible-table table.alert-danger thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.flexible-table table.alert-danger tr{border:2px solid #fff;display:block;margin-bottom:.625em;padding:5px;border-radius:5px}.flexible-table table.alert-danger tr th.actionable{width:inherit}.flexible-table table.alert-danger tr td{border-bottom:0}@media screen and (max-width:600px){.flexible-table table{border:0}.flexible-table table td{border-bottom:0;display:block;text-align:right}.flexible-table table td:first-child{padding-left:0}.flexible-table table td:last-child{border-bottom:0}.flexible-table table td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}.flexible-table table td a span.icon{width:100%}.flexible-table table thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.flexible-table table tr{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}.flexible-table table tr th.actionable{width:inherit}.flexible-table table tr td{border-bottom:0}.flexible-table table.alert-danger td:before{width:inherit}}"]}]}],r.ctorParameters=function(){return[{type:o}]},r.propDecorators={vocabulary:[{type:n.Input,args:["vocabulary"]}],persistenceId:[{type:n.Input,args:["persistenceId"]}],persistenceKey:[{type:n.Input,args:["persistenceKey"]}],caption:[{type:n.Input,args:["caption"]}],action:[{type:n.Input,args:["action"]}],actionKeys:[{type:n.Input,args:["actionKeys"]}],tableClass:[{type:n.Input,args:["tableClass"]}],headers:[{type:n.Input,args:["headers"]}],items:[{type:n.Input,args:["items"]}],pageInfo:[{type:n.Input,args:["pageInfo"]}],tableInfo:[{type:n.Input,args:["tableInfo"]}],configurable:[{type:n.Input,args:["configurable"]}],configAddon:[{type:n.Input,args:["configAddon"]}],enableIndexing:[{type:n.Input,args:["enableIndexing"]}],enableFiltering:[{type:n.Input,args:["enableFiltering"]}],rowDetailer:[{type:n.Input,args:["rowDetailer"]}],expandable:[{type:n.Input,args:["expandable"]}],expandIf:[{type:n.Input,args:["expandIf"]}],filterwhiletyping:[{type:n.Input,args:["filterwhiletyping"]}],rowDetailerHeaders:[{type:n.Input,args:["rowDetailerHeaders"]}],onaction:[{type:n.Output,args:["onaction"]}],onCellContentEdit:[{type:n.Output,args:["onCellContentEdit"]}],onconfigurationchange:[{type:n.Output,args:["onconfigurationchange"]}]};var l=function(){function e(){this.vocabulary={setSize:"",firstPage:"",lastPage:"",previousPage:""},this.info={contentSize:0,pageSize:0,maxWidth:"0"},this.onchange=new n.EventEmitter,this.onready=new n.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.info||(this.info={contentSize:1e3,pageSize:1e3,pages:1,from:0,to:1e3,currentPage:1,maxWidth:"0"}),this.info.contentSize&&this.info.pageSize&&(this.info.pages=Math.ceil(this.info.contentSize/this.info.pageSize),this.info.from=0,this.info.to=this.info.pageSize-1,this.info.currentPage=1,setTimeout(function(){return e.ready()},66))},e.prototype.setWidth=function(e){this.info.maxWidth=e+"px"},e.prototype.ready=function(){this.onready.emit(this),this.onchange.emit(this.info)},e.prototype.selectFirst=function(){1<this.info.currentPage&&(this.info.from=0,this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage=1,this.onchange.emit(this.info))},e.prototype.selectNext=function(){this.info.currentPage<this.info.pages&&(this.info.from=this.info.to+1,this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage++,this.onchange.emit(this.info))},e.prototype.selectPrev=function(){1<this.info.currentPage&&(this.info.from-=this.info.pageSize,this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage--,this.onchange.emit(this.info))},e.prototype.selectLast=function(){this.info.currentPage<this.info.pages&&(this.info.from=this.info.pageSize*(this.info.pages-1),this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage=this.info.pages,this.onchange.emit(this.info))},e.prototype.changeCurrent=function(e){var t=parseInt(e.value,10);this.info.currentPage<t&&0<t&&t<this.info.pages?(this.info.from=t*(this.info.pageSize-1),this.info.to=this.info.from+this.info.pageSize-1,this.info.currentPage=t,this.onchange.emit(this.info)):e.value=this.info.currentPage},e.prototype.changeSize=function(e){var t=parseInt(e.value,10);this.info.contentSize>=t&&1<t?(this.info.pageSize=t,this.info.pages=Math.ceil(this.info.contentSize/t),this.info.from=0,this.info.to=this.info.pageSize-1,this.info.currentPage=1,this.onchange.emit(this.info)):e.value=this.info.pageSize},e}();l.decorators=[{type:n.Component,args:[{selector:"table-pagination",template:'<div *ngIf="info && info.pages > 1" [style.width]="info.maxWidth" class="table-pagination" #paginationWrapper>\n    <div class="fa fa-angle-left"\n         (click)="selectPrev()"\n         [class.disabled]="info.currentPage==1">\n        <span class="prev" [textContent]="vocabulary.previousPage"></span>\n    </div>\n    <div class="fa fa-angle-double-left"\n         (click)="selectFirst()"\n         [class.disabled]="info.currentPage==1">\n        <span class="first" [textContent]="vocabulary.firstPage"></span>\n    </div>\n    <div class="current">\n        <input  #ranger [value]="info.currentPage" (keydown.Enter)="changeCurrent(ranger)" />\n        <span [textContent]="\' / \' + info.pages"></span>\n\t</div>\n    <div class="fa fa-angle-double-right"\n         (click)="selectLast()"\n         [class.disabled]="info.currentPage==info.pages">\n        <span class="last" [textContent]="vocabulary.lastPage"></span>\n    </div>\n    <div class="fa fa-angle-right"\n         (click)="selectNext()"\n         [class.disabled]="info.currentPage==info.pages">\n        <span class="next" [textContent]="vocabulary.nextPage"></span>\n    </div>\n    <div class="reset-size" *ngIf="info.resetSize">\n        <label for="pagination-set-size">\n            <span class="off-screen" [textContent]="vocabulary.setSize"></span>\n            <input id="pagination-set-size" [value]="info.pageSize" (keydown.Enter)="changeSize(sizer)" #sizer />\n        </label>\n    </div>\n</div>\n',styles:[".table-pagination{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;border:1px solid #254a5d;border-radius:2px;color:#254a5d;bottom:5px;clear:both;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:1em;height:38px;max-width:100%;margin:0 auto;position:fixed;left:40%;z-index:55}.table-pagination .fa{padding:4px 8px;margin-top:5px}.table-pagination .first,.table-pagination .last,.table-pagination .next,.table-pagination .prev{background-repeat:no-repeat;cursor:pointer;width:auto;display:block;height:39px;text-indent:-99999px;-webkit-box-sizing:border-box;box-sizing:border-box}.table-pagination .reset-size{padding:0;height:35px;border-radius:4px}.table-pagination .reset-size input{border:0;border-left:1px solid #4c5854;height:34px;text-align:center;width:30px;margin-right:2px;margin-left:8px}.table-pagination .current{padding:1px 5px}.table-pagination .current input{padding:0 3px;width:14px;height:35px;border:none;text-align:center}.table-pagination .disabled{opacity:.4}@media screen and (max-width:992px){.table-pagination{left:4px}}"]}]}],l.ctorParameters=function(){return[]},l.propDecorators={vocabulary:[{type:n.Input,args:["vocabulary"]}],info:[{type:n.Input,args:["info"]}],onchange:[{type:n.Output,args:["onchange"]}],onready:[{type:n.Output,args:["onready"]}]};var s=function(){function e(){this.onchange=new n.EventEmitter,this.onprint=new n.EventEmitter}return e.prototype.reconfigure=function(e,t){t.present=e.checked,this.onchange.emit(this.headers)},e.prototype.enableFilter=function(e,t){t.filter===undefined?t.filter="":delete t.filter,this.onchange.emit(this.headers)},e.prototype.print=function(e){this.onprint.emit(!0)},e.prototype.keyup=function(e){13===e.which&&e.target.click()},e}();s.decorators=[{type:n.Component,args:[{selector:"table-configuration",template:'\n<div class="shim"\n    [style.display]="showConfigurationView ? \'block\':\'none\'"\n    (click)="showConfigurationView = !showConfigurationView"></div>\n<a  [attr.tabindex]="0" *ngIf="printTable"\n    class="print-table"\n    (keyup)="keyup($event)"\n    (click)="print($event)">\n    <span class="icon fa fa-print" aria-hidden="true"></span>\n    <span class="off-screen" [textContent]="print"></span>\n</a>\n<a  [attr.tabindex]="0"\n    class="configure-table"\n    (keyup)="keyup($event)"\n    (click)="showConfigurationView = !showConfigurationView">\n    <span class="icon fa fa-gear" aria-hidden="true"></span>\n    <span class="off-screen" [textContent]="action"></span>\n</a>\n<ng-container *ngIf="configAddon" [ngTemplateOutlet]="configAddon"></ng-container>\n<ul role="list" [style.display]="showConfigurationView ? \'block\':\'none\'">\n    <p [textContent]="title"></p>\n    <li  *ngFor="let header of headers" role="listitem">\n        <label for="{{header.key ? header.key+\'f\':\'f\'}}">\n            <input type="checkbox" #filter\n                    [id]="header.key ? header.key+\'f\':\'f\'"\n                    [checked]="header.filter !== undefined"\n                    (keyup)="keyup($event)"\n                    (click)="enableFilter(filter, header)" />\n            <span>Filter</span>\n        </label>\n        <label for="{{header.key ? header.key+\'c\':\'c\'}}">\n            <input type="checkbox" #checkbox\n                    [id]="header.key ? header.key+\'c\':\'c\'"\n                    [value]="header.key"\n                    [checked]="header.present"\n                    (keyup)="keyup($event)"\n                    (click)="reconfigure(checkbox, header)" />\n            <span>Show</span>\n        </label>\n        <span class="title" [textContent]="header.value | uppercase"></span>\n    </li>\n</ul>\n',styles:[":host{-webkit-box-sizing:border-box;box-sizing:border-box;padding:2px;position:absolute;right:8px;top:18px;z-index:2}:host a{display:block;float:left;padding:0 0 0 10px;cursor:pointer;z-index:5}:host a .icon{color:#00925b}:host a .off-screen{display:block;text-indent:-9999px;width:0;height:0;overflow:hidden}:host .shim{background-color:rgba(255,255,255,.2);width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}:host ul{background-color:#fff;border:1px solid #999;border-radius:4px;display:-webkit-box;display:-ms-flexbox;display:flex;list-style:none;max-height:200px;margin:0 2px;min-width:200px;overflow-y:auto;position:absolute;padding:0 0 8px;right:0;-webkit-box-shadow:6px 8px 6px -6px #1b1b1b;box-shadow:6px 8px 6px -6px #1b1b1b;z-index:6}:host ul p{margin:0;padding:1px 5px;background-color:#5f9ea0;color:#fff}:host ul li{white-space:nowrap;text-align:left;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:1px 5px}:host ul li label input{-webkit-box-flex:0;-ms-flex:0 0 30%;flex:0 0 30%;margin-top:4px}:host ul li .title{-webkit-box-flex:0;-ms-flex:0 0 30%;flex:0 0 30%;font-weight:700}"]}]}],s.ctorParameters=function(){return[]},s.propDecorators={title:[{type:n.Input,args:["title"]}],action:[{type:n.Input,args:["action"]}],printTable:[{type:n.Input,args:["printTable"]}],headers:[{type:n.Input,args:["headers"]}],configAddon:[{type:n.Input,args:["configAddon"]}],onchange:[{type:n.Output,args:["onchange"]}],onprint:[{type:n.Output,args:["onprint"]}]};var d=function(){function e(e){this.el=e,this.dragging=!1,this.printMode=!1,this.filteredItems=[],this.vocabulary={configureTable:"Configure Table",configureColumns:"Configure Columns",clickSort:"Click to Sort",setSize:"Set Size",firstPage:"First",lastPage:"Last",previousPage:"Previous"},this.tableClass="default-flexible-table",this.onaction=new n.EventEmitter,this.onchange=new n.EventEmitter,this.onfilter=new n.EventEmitter,this.onCellContentEdit=new n.EventEmitter}return e.prototype.findColumnWithID=function(e){for(var t=this.headerColumnElements(),n=null,a=0;a<t.length;a++)if(t[a].getAttribute("id")===e){n=t[a];break}return n},e.prototype.swapColumns=function(e,t){var n=this;if(e.node.parentNode===t.node.parentNode){var a=this.getColumnIndex(e.medium.key),i=this.getColumnIndex(t.medium.key);if(a<0||i<0)return void console.log("invalid drop id",e.medium.key,t.medium.key);var o=this.filteredItems;this.filteredItems=[],setTimeout(function(){var e=n.headers[a];n.headers[a]=n.headers[i],n.headers[i]=e,n.filteredItems=o,n.onfilter.emit(n.filteredItems),n.onchange.emit(n.headers)},33)}else if(e.medium.locked||t.medium.locked){var r=this.filteredItems;this.filteredItems=[],this.onfilter.emit(this.filteredItems),setTimeout(function(){e.medium.locked=!e.medium.locked,t.medium.locked=!t.medium.locked,n.filteredItems=r,n.onfilter.emit(n.filteredItems),n.onchange.emit(n.headers)},33)}},e.prototype.getColumnIndex=function(e){for(var t=-1,n=0;n<this.headers.length;n++)if(this.headers[n].key===e){t=n;break}return t},e.prototype.itemValue=function(e,t){var n=e;return t.map(function(e){n&&(n=n[e])}),n===undefined||null===n||"null"===n?"":String(n)},e.prototype.lock=function(e,t){t.stopPropagation(),t.preventDefault(),e.locked=!e.locked,this.onchange.emit(this.headers)},e.prototype.sort=function(i,e){var o=this;if(i.sortable&&this.items&&this.items.length){for(var t=0;t<this.headers.length;t++){var n=this.headers[t];if(n.key!==i.key){var a=this.findColumnWithID(n.key);a&&(a.classList.remove("ascending"),a.classList.remove("descending"),a.classList.add("sortable")),n.descending=!1,n.ascending=!1}}e.classList.remove("fa-sort"),i.ascending||!i.ascending&&!i.descending?(i.descending=!0,i.ascending=!1,e.classList.remove("fa-sort-asc"),e.classList.add("fa-sort-desc")):(i.descending=!1,i.ascending=!0,e.classList.remove("fa-sort-desc"),e.classList.add("fa-sort-asc"));var r=i.key.split(".");this.filteredItems.sort(function(e,t){var n=o.itemValue(e,r),a=o.itemValue(t,r);return i.ascending?a<n?1:-1:n<a?1:-1})}},e.prototype.offsetWidth=function(){return this.table.element.nativeElement.offsetWidth},e.prototype.ngOnChanges=function(e){e.items&&this.enableFiltering&&(this.enableFiltering?this.filterItems():this.filteredItems=this.items?this.items:[])},e.prototype.ngOnInit=function(){this.pageInfo||(this.pageInfo={contentSize:1e3,pageSize:1e3,pages:1,from:0,to:1e3,currentPage:1,maxWidth:"0"}),this.headers||(this.headers=[]),this.enableFiltering?this.filterItems():this.filteredItems=this.items?this.items:[],this.actionKeys&&(this.actionKeys=this.actionKeys.split(",")),!this.rowDetailer&&this.expandable&&(this.rowDetailer=function(e){return{data:e,headers:[]}}),this.expandable||(this.expandable=function(e,t){return t}),this.rowDetailerHeaders||(this.rowDetailerHeaders=function(e){return[]})},e.prototype.headerColumnElements=function(){var e=[];if(this.table.element.nativeElement.children){var t=this.table.element.nativeElement.children;e=this.caption?t[1].children[0].children:t[0].children[0].children}return e},e.prototype.headerById=function(e){var t;for(var n in this.headers)if(this.headers[n].key===e){t=this.headers[n];break}return t},e.prototype.columnsCount=function(){var t=0;return this.headers.map(function(e){e.present&&t++}),this.action&&t++,t},e.prototype.hover=function(e,t){t?e.hover=!0:delete e.hover},e.prototype.toCssClass=function(e){return e.key.replace(/\./g,"-")},e.prototype.keydown=function(e,t){var n=e.which;13!==n&&32!==n||t.click()},e.prototype.offScreenMessage=function(t){var n=this.action;return this.actionKeys&&this.actionKeys.map(function(e){n=n.replace(e,t[e.substring(1,e.length-1)])}),n},e.prototype.cellContent=function(e,t){var n=this.itemValue(e,t.key.split("."));return n!==undefined&&null!=n?n:"&nbsp;"},e.prototype.rowDetailerContext=function(e){return{data:e,tableInfo:this.tableInfo,headers:this.rowDetailerHeaders(e)}},e.prototype.changeFilter=function(e,t){var n=e.which;t.filter=e.target.value,(this.filterwhiletyping||13===n)&&this.filterItems()},e.prototype.actionClick=function(e,t){return e.stopPropagation(),this.rowDetailer&&(this.expandIf||this.expandable(t,!1))?t.expanded?delete t.expanded:t.expanded=!0:this.onaction.emit(t),!1},e.prototype.print=function(){var n=this,a=this.pageInfo;this.pageInfo={contentSize:1e3,pageSize:1e3,pages:1,from:0,to:1e3,currentPage:1,maxWidth:"0"},this.printMode=!0,setTimeout(function(){var e=n.el.nativeElement.innerHTML;n.printMode=!1,n.pageInfo=a;var t=window.open("","_blank","width=300,height=300");t.document.open(),t.document.write('<html><body onload="window.print()">'+e+"</html>"),t.document.close()},3)},e.prototype.shouldSkipItem=function(e,t){var n=!1;if(e!==undefined&&null!==e&&e.length)if("<"===t[0])n=parseFloat(e)>=parseFloat(t.substring(1));else if(">"===t[0])n=parseFloat(e)<=parseFloat(t.substring(1));else if("!"===t[0])n=parseFloat(e)==parseFloat(t.substring(1));else if("="===t[0])n=parseFloat(e)!==parseFloat(t.substring(1));else if("*"===t[0]&&"*"!==t[t.length-1]){var a=t.substring(1);n=e.toLowerCase().indexOf(a)!==e.length-a.length}else if("*"!==t[0]&&"*"===t[t.length-1]){a=t.substring(0,t.length-1);n=0!==e.toLowerCase().indexOf(a)}else if("*"===t[0]&&"*"===t[t.length-1]){a=t.substring(1,t.length-1);n=e.toLowerCase().indexOf(a)<0}else n=e.toLowerCase().indexOf(t)<0;return n},e.prototype.filterItems=function(){var r=this;this.filteredItems=this.items?this.items.filter(function(e){for(var t=!0,n=0;n<r.headers.length;n++){var a=r.headers[n];if(a.filter&&a.filter.length){var i=a.filter.toLowerCase(),o=r.itemValue(e,a.key.split("."));if(r.shouldSkipItem(o,i)){t=!1;break}}}return t}):[],this.onfilter.emit(this.filteredItems)},e.prototype.onTableCellEdit=function(e){var t=e.id.split("-"),n=e.name,a=e.value,i=this.items[parseInt(t[1])];if(i){for(var o=t[0].split("."),r=i[o[0]],l=1;l<o.length-1;l++)r=r[o[l]];r&&1<o.length&&(r[o[o.length-1]]=a),this.onCellContentEdit.emit({name:n,value:a,item:i})}},e.prototype.dragEnabled=function(e){return e.medium.dragable},e.prototype.dropEnabled=function(e){return e.destination.medium.dragable},e.prototype.onDragStart=function(e){},e.prototype.onDragEnd=function(e){},e.prototype.onDrop=function(e){this.swapColumns(e.source,e.destination)},e}();d.decorators=[{type:n.Component,args:[{selector:"table-view",template:'\n<table [class]="tableClass"  #flexible>\n    <caption *ngIf="caption" [textContent]="caption"></caption>\n    <thead>\n        <tr>\n            <th scope="col" *ngIf="enableIndexing && !printMode" id="indexable" class="indexable"></th>\n            <th scope="col" *ngFor="let header of headers"\n                [dragEnabled]="dragEnabled.bind(this)"\n                [dropEnabled]="dropEnabled.bind(this)"\n                [medium]="header"\n                (onDragStart)="onDragStart($event)"\n                (onDragEnd)="onDragEnd($event)"\n                (onDrop)="onDrop($event)"\n                [id]="header.key"\n                [attr.width]="header.width ? header.width : null"\n                [style.min-width]="header.minwidth ? header.minwidth : \'\'"\n                [attr.tabindex]="header.sortable ? 0 : -1"\n                (keydown)="keydown($event, th)" (click)="sort(header, icon)">\n                <span *ngIf="!printMode && header.sortable" class="off-screen"  [textContent]="vocabulary.clickSort"></span>\n                <span class="locker icon fa" #locker\n                        *ngIf="!printMode && lockable && (headers.length > 1 || header.locked)"\n                        tabindex="0"\n                        title="lock/unlock this column"\n                        (keydown)="keydown($event, locker)" (click)="lock(header, $event)"\n                        [class.fa-lock]="header.locked"\n                        [class.fa-unlock]="!header.locked"></span>\n                <span class="title"\n                        [class.dragable]="header.dragable"\n                        [textContent]="header.value"></span>\n                <span class="icon fa" [class.hidden]="printMode || !items || items.length === 0" #icon\n                        [class.fa-sort]="header.sortable"\n                        [class.fa-sort-asc]="header.assending"\n                        [class.fa-sort-desc]="header.desending"></span>\n            </th>\n            <th scope="col" *ngIf="action && !printMode" id="actionable" class="actionable"></th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngIf="!printMode && enableFiltering && items && items.length">\n            <td scope="row" *ngIf="enableIndexing && !printMode" class="index filter">\n                <input type="text" disabled style="opacity:0" />\n            </td>\n            <td scope="row"\n                        *ngFor="let header of headers; let i=index"\n                        [attr.data-label]="header.value"\n                        class="filter">\n                <span *ngIf="header.filter === undefined">&nbsp;</span>\n                <input  *ngIf="header.filter !== undefined"\n                        id="filter-{{i}}"\n                        type="text"\n                        (keyup)="changeFilter($event, header)"\n                        [value]="header.filter ? header.filter : \'\'" />\n                <label *ngIf="header.filter !== undefined" for="filter-{{i}}" ><span class="off-screen" >Filter "{{header.value}}"</span><span class="fa fa-search"></span></label>\n            </td>\n            <td scope="row" *ngIf="action && !printMode"></td>\n        </tr>\n       <ng-template ngFor let-item [ngForOf]="filteredItems" let-i="index">\n            <tr *ngIf="i >= pageInfo.from && i <= pageInfo.to "\n                (click)="actionClick($event, item)"\n                (mouseover)="hover(item, true)"\n                (mouseout)="hover(item, false)"\n                [class.pointer]="action"\n                [class.hover]="item.hover"\n                [class.expanded]="item.expanded"\n                [class.odd]="i%2">\n                <td scope="row" class="index" *ngIf="enableIndexing && !printMode">{{i + 1}}</td>\n                <td scope="row"\n                    *ngFor="let header of headers"\n                    [class]="toCssClass(header)"\n                    [attr.data-label]="header.value"\n                    [intoName]="header.value"\n                    [intoId]="header.key + \'-\' + i"\n                    [into]="header.format"\n                    [intoData]="item"\n                    [rawContent]="cellContent(item, header)"\n                    [onComponentChange]="onTableCellEdit.bind(this)"></td>\n                <td scope="row" *ngIf="action && !printMode">\n                    <a class="actionable"\n                        *ngIf="expandable(item, true)"\n                        tabindex="0"\n                        role="button"\n                        style="cursor:pointer"\n                        [class.expanded]="item.expanded" #clicker\n                        (keydown)="keydown($event, clicker)" (click)="actionClick($event, item)">\n                        <span\n                            class="icon fa"\n                            [class.fa-angle-right]="!rowDetailer"\n                            [class.fa-minus-square-o]="rowDetailer && item.expanded"\n                            [class.fa-plus-square-o]="rowDetailer && !item.expanded"\n                            aria-hidden="true"></span>\n                        <span class="off-screen" [textContent]="offScreenMessage(item)"></span>\n                    </a>\n                </td>\n            </tr>\n            <tr *ngIf="rowDetailer && item.expanded" class="detail" [class.odd]="i%2">\n                <td scope="row" class="index" *ngIf="enableIndexing && !printMode"></td>\n                <td [attr.colspan]="columnsCount()">\n                    <ng-container [ngTemplateOutlet]="rowDetailer" [ngTemplateOutletContext]="rowDetailerContext(item)"></ng-container>\n                </td>\n            </tr>\n        </ng-template>\n    </tbody>\n</table>\n',styles:[":host{display:inline-block!important;width:100%;position:relative;margin:0 auto;border-spacing:0;border-collapse:collapse}:host .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host table{margin:1rem auto;padding:0;width:100%;table-layout:fixed;max-width:99%;background-color:transparent;border-collapse:collapse}:host table caption{background-color:#c3e5e2;border-radius:2px;color:#1b1b1b;caption-side:top;font-size:14px;padding:5px 6px;margin-bottom:15px;text-align:left}:host table thead{border-top:1px solid #bbb;border-bottom:1px solid #bbb;background-color:#eee}:host table tr{border:0}:host table tr.expanded td{font-weight:700}:host table td{padding-left:3px}:host table td:first-child{padding-left:5px}:host table td ::ng-deep input-component .locked,:host table td ::ng-deep input-component input{width:99%}:host table td .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host table td.filter{padding:0;position:relative}:host table td.filter input{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;padding:1px 5px}:host table td.filter .fa{position:absolute;top:4px;right:2px;color:#bad}:host table td ::ng-deep img{height:24px}:host table td.index{background-color:#eee;border-right:1px solid #bbb}:host table th{cursor:default;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none;height:24px;position:relative;white-space:nowrap;font-weight:400;text-transform:uppercase;font-size:14px;padding-top:6px;padding-bottom:6px;text-align:left}:host table th.drag-over{background-color:#9b9b9b}:host table th.drag-over .icon,:host table th.drag-over .title{color:#eee}:host table th:first-child{padding-left:5px}:host table th.ascending,:host table th.descending,:host table th.sortable{cursor:pointer;height:12px}:host table th.indexable{width:33px}:host table th.actionable{width:24px}:host table th .hidden{display:none}:host table th .title{color:#254a4d;display:inline-block;height:20px;white-space:nowrap}:host table th .dragable{cursor:move}:host table th .icon{width:22px;display:inline-block;height:20px;color:#254a4d}:host .fa.fa-angle-right{font-size:18px}table tr.expanded td{border-bottom:0}table tr.detail td{border-top:0;cursor:default}table tr.expanded td a.expanded{background-position:right 2px}table tbody tr.hover,table tbody tr:hover{background-color:#ffeed2}table tbody tr.detail.hover,table tbody tr.detail.hover td table thead tr,table tbody tr.detail:hover,table tbody tr.detail:hover td table thead tr{background-color:inherit}table tr td a.actionable{display:inline-table;height:32px;vertical-align:middle;width:25px;line-height:30px;color:#254a4d}table tbody tr.detail.hover td:last-child,table tbody tr.detail:hover td:last-child{border-right:0}table tbody tr.detail.hover td:first-child,table tbody tr.detail:hover td:first-child{border-left:0}table tr td{border-bottom:1px solid #b1b3b3;color:#254a5d;font-size:15px;text-transform:capitalize}table tbody tr.pointer{cursor:pointer}table.alert-danger{border:0}table.alert-danger caption{background-color:transparent;font-weight:700;margin-bottom:0}table.alert-danger td{border-bottom:0;display:block}table.alert-danger td:first-child{padding-left:0}table.alert-danger td:last-child{border-bottom:0}table.alert-danger td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase;width:20%}table.alert-danger td a span.icon{width:100%}table.alert-danger thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}table.alert-danger tr{border:2px solid #fff;display:block;margin-bottom:.625em;padding:5px;border-radius:5px}table.alert-danger tr th.actionable{width:inherit}table.alert-danger tr td{border-bottom:0}@media screen and (max-width:600px){table{border:0}table td{border-bottom:0;display:block;text-align:right}table td:first-child{padding-left:0}table td:last-child{border-bottom:0}table td.filter input{width:50%!important}table td.filter .fa{right:7px!important}table td:before{content:attr(data-label);float:left;font-weight:700;text-transform:uppercase}table td a span.icon{width:100%}table thead{border:none;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}table tr{border-bottom:3px solid #ddd;display:block;margin-bottom:.625em}table tr th.actionable{width:inherit}table tr td{border-bottom:0}table.alert-danger td:before{width:inherit}}"]}]}],d.ctorParameters=function(){return[{type:n.ElementRef}]},d.propDecorators={vocabulary:[{type:n.Input,args:["vocabulary"]}],lockable:[{type:n.Input,args:["lockable"]}],caption:[{type:n.Input,args:["caption"]}],action:[{type:n.Input,args:["action"]}],pageInfo:[{type:n.Input,args:["pageInfo"]}],actionKeys:[{type:n.Input,args:["actionKeys"]}],tableClass:[{type:n.Input,args:["tableClass"]}],headers:[{type:n.Input,args:["headers"]}],items:[{type:n.Input,args:["items"]}],tableInfo:[{type:n.Input,args:["tableInfo"]}],enableIndexing:[{type:n.Input,args:["enableIndexing"]}],enableFiltering:[{type:n.Input,args:["enableFiltering"]}],rowDetailer:[{type:n.Input,args:["rowDetailer"]}],expandable:[{type:n.Input,args:["expandable"]}],expandIf:[{type:n.Input,args:["expandIf"]}],filterwhiletyping:[{type:n.Input,args:["filterwhiletyping"]}],rowDetailerHeaders:[{type:n.Input,args:["rowDetailerHeaders"]}],onaction:[{type:n.Output,args:["onaction"]}],onchange:[{type:n.Output,args:["onchange"]}],onfilter:[{type:n.Output,args:["onfilter"]}],onCellContentEdit:[{type:n.Output,args:["onCellContentEdit"]}],table:[{type:n.ViewChild,args:["flexible",{read:n.ViewContainerRef}]}]};var p=function(){function e(e,t){this.generator=e,this.renderer=t,this.filteredItems=[],this.vocabulary={configureTable:"Configure Table",configureColumns:"Configure Columns",clickSort:"Click to Sort",setSize:"Set Size",firstPage:"First",lastPage:"Last",previousPage:"Previous"},this.tableClass="default-flexible-table",this.onaction=new n.EventEmitter,this.onCellContentEdit=new n.EventEmitter,this.onconfigurationchange=new n.EventEmitter}return e.prototype.scroll=function(e){this.renderer.setElementStyle(this.lockedTable.el.nativeElement,"left",e.target.scrollLeft+"px")},e.prototype.ngOnInit=function(){if(this.persistenceKey){var e=this.generator.retreiveHeaders(this.persistenceKey,this.persistenceId);e&&(this.headers=e)}this.headers||(this.headers=this.generator.generateHeadersFor(this.items[0],"",5,this.enableFiltering),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers)),this.filteredItems=this.items,this.reconfigure(this.headers)},e.prototype.evaluatePositioning=function(){this.renderer.setElementStyle(this.unlockedTable.el.nativeElement,"margin-left",this.lockedTable.offsetWidth()+"px")},e.prototype.reconfigure=function(e){this.headers=e,this.lockedHeaders=this.headers.filter(function(e){return!0===e.locked&&e.present}),this.unlockedHeaders=this.headers.filter(function(e){return!0!==e.locked&&e.present}),this.onconfigurationchange.emit(e),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers),setTimeout(this.evaluatePositioning.bind(this),111)},e.prototype.onlock=function(e){this.lockedHeaders=this.headers.filter(function(e){return!0===e.locked&&e.present}),this.unlockedHeaders=this.headers.filter(function(e){return!0!==e.locked&&e.present}),this.onconfigurationchange.emit(e),this.persistenceKey&&this.generator.persistHeaders(this.persistenceKey,this.persistenceId,this.headers),setTimeout(this.evaluatePositioning.bind(this),111)},e.prototype.changeLockedTableFilteredItems=function(e){this.lockedTable&&(this.lockedTable.filteredItems=e)},e.prototype.changeUnlockedTableFilteredItems=function(e){this.unlockedTable&&(this.unlockedTable.filteredItems=e)},e.prototype.tableAction=function(e){this.onaction.emit(e)},e.prototype.onDrop=function(e){},e.prototype.onCellEdit=function(e){this.onCellContentEdit.emit(e)},e}();p.decorators=[{type:n.Component,args:[{selector:"lock-table",template:'<div class="caption">\n\t<table-configuration\n\t\t*ngIf="configurable"\n\t\t[headers]="headers"\n\t\t[title]="vocabulary.configureColumns"\n\t\t[action]="vocabulary.configureTable"\n\t\t[configAddon]="configAddon"\n\t\t(onchange)="reconfigure($event)"></table-configuration>\n\t<div *ngIf="caption" [textContent]="caption"></div>\n</div>\n<div class="smart-table-wrap" (scroll)="scroll($event)">\n\t<table-view #lockedTable\n\t\tclass="locked-table"\n\t\tlockable="true"\n\t\t[headers]="lockedHeaders"\n\t\t[items]="filteredItems"\n        [pageInfo]="pageInfo"\n        [vocabulary]="vocabulary"\n        [filterwhiletyping]="filterwhiletyping"\n\t\t[enableFiltering]="enableFiltering"\n\t\t[enableIndexing]="enableIndexing"\n\t\t(onchange)="onlock($event)"\n\t\t(onDrop)="onDrop($event)"\n\t\t(onCellContentEdit)="onCellEdit($event)"\n\t\t(onfilter)="changeUnlockedTableFilteredItems($event)"\n\t\t(onaction)="tableAction($event)"></table-view>\n    <table-view #unlockedTable\n\t\tclass="unlocked-table"\n\t\tlockable="true"\n\t\t[headers]="unlockedHeaders"\n\t\t[items]="filteredItems"\n        [pageInfo]="pageInfo"\n        [vocabulary]="vocabulary"\n        [filterwhiletyping]="filterwhiletyping"\n\t\t[enableFiltering]="enableFiltering"\n\t\t(onDrop)="onDrop($event)"\n\t\t(onchange)="onlock($event)"\n\t\t(onCellContentEdit)="onCellEdit($event)"\n\t\t(onfilter)="changeLockedTableFilteredItems($event)"\n\t\t(onaction)="tableAction($event)"></table-view>\n</div>\n<table-pagination [info]="pageInfo" [vocabulary]="vocabulary" #pager></table-pagination>\n',styles:[":host{width:100%;position:relative;margin:0 auto;display:table}:host .off-screen{display:block;float:left;height:0;overflow:hidden;text-indent:-99999px;width:0}:host .caption{background-color:#c3e5e2;border-radius:2px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#1b1b1b;caption-side:top;font-size:14px;margin-bottom:15px;padding:5px 6px;text-align:left;width:100%}:host .caption table-configuration{display:inline-block;float:right;position:unset}:host .smart-table-wrap{border-spacing:0;border-collapse:collapse;border-right:1px solid #aaa;border-bottom:1px solid #aaa;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:relative;overflow-x:auto}:host .smart-table-wrap .unlocked-table ::ng-deep table{max-width:100%;margin-bottom:0;margin-top:0}:host .smart-table-wrap .unlocked-table ::ng-deep table th .locker{cursor:pointer;color:#00925b;text-align:center}:host .smart-table-wrap .unlocked-table ::ng-deep table td,:host .smart-table-wrap .unlocked-table ::ng-deep table th{white-space:nowrap;min-height:23px!important}:host .smart-table-wrap .unlocked-table ::ng-deep table tbody tr{background-color:#fff}:host .smart-table-wrap .unlocked-table ::ng-deep table tbody tr.hover,:host .smart-table-wrap .unlocked-table ::ng-deep table tbody tr:hover{background-color:#ffeed2}:host .smart-table-wrap .unlocked-table ::ng-deep table img{height:14px}:host .smart-table-wrap .locked-table{position:absolute;margin:0 auto;display:inline-table;border-spacing:0;border-collapse:collapse;float:left;z-index:2;width:auto}:host .smart-table-wrap .locked-table ::ng-deep table{display:inline-block;border-right:1px solid #aaa;margin:0;width:auto}:host .smart-table-wrap .locked-table ::ng-deep table th .locker{cursor:pointer;color:#8b0224;text-align:center}:host .smart-table-wrap .locked-table ::ng-deep table td,:host .smart-table-wrap .locked-table ::ng-deep table th{white-space:nowrap;min-height:23px!important}:host .smart-table-wrap .locked-table ::ng-deep table tbody tr{background-color:#fff}:host .smart-table-wrap .locked-table ::ng-deep table tbody tr.hover,:host .smart-table-wrap .locked-table ::ng-deep table tbody tr:hover{background-color:#ffeed2}:host .smart-table-wrap .locked-table ::ng-deep table img{height:14px}@media screen and (max-width:600px){.smart-table-wrap{border:0!important;position:unset;overflow-x:unset}.smart-table-wrap .unlocked-table{margin-left:0!important}.smart-table-wrap .unlocked-table ::ng-deep table td,.smart-table-wrap .unlocked-table ::ng-deep table th{white-space:unset}.smart-table-wrap .unlocked-table ::ng-deep table img{height:30px}.smart-table-wrap .locked-table{position:unset!important;margin:0!important;display:table;left:0!important}.smart-table-wrap .locked-table ::ng-deep table{display:table!important;margin:0!important;width:100%!important}.smart-table-wrap .locked-table ::ng-deep table td,.smart-table-wrap .locked-table ::ng-deep table th{white-space:unset}.smart-table-wrap .locked-table ::ng-deep table img{height:30px}}"]}]}],p.ctorParameters=function(){return[{type:o},{type:n.Renderer}]},p.propDecorators={vocabulary:[{type:n.Input,args:["vocabulary"]}],persistenceId:[{type:n.Input,args:["persistenceId"]}],persistenceKey:[{type:n.Input,args:["persistenceKey"]}],caption:[{type:n.Input,args:["caption"]}],action:[{type:n.Input,args:["action"]}],actionKeys:[{type:n.Input,args:["actionKeys"]}],tableClass:[{type:n.Input,args:["tableClass"]}],headers:[{type:n.Input,args:["headers"]}],items:[{type:n.Input,args:["items"]}],pageInfo:[{type:n.Input,args:["pageInfo"]}],tableInfo:[{type:n.Input,args:["tableInfo"]}],configurable:[{type:n.Input,args:["configurable"]}],configAddon:[{type:n.Input,args:["configAddon"]}],enableFiltering:[{type:n.Input,args:["enableFiltering"]}],enableIndexing:[{type:n.Input,args:["enableIndexing"]}],filterwhiletyping:[{type:n.Input,args:["filterwhiletyping"]}],onaction:[{type:n.Output,args:["onaction"]}],onCellContentEdit:[{type:n.Output,args:["onCellContentEdit"]}],onconfigurationchange:[{type:n.Output,args:["onconfigurationchange"]}],lockedTable:[{type:n.ViewChild,args:["lockedTable"]}],unlockedTable:[{type:n.ViewChild,args:["unlockedTable"]}]};var c=function(){function e(e,t){this.renderer=e,this.el=t,this.dropEffect="move",this.tableSort=function(e){}}return e.prototype.headerColumnElements=function(){return this.el.nativeElement.parentNode.children},e.prototype.findColumnWithID=function(e){for(var t=this.headerColumnElements(),n=null,a=0;a<t.length;a++)if(t[a].getAttribute("id")===e){n=t[a];break}return n},e.prototype.sort=function(e){if(this.medium.sortable){for(var t=0;t<this.headers.length;t++){var n=this.headers[t];if(n.key!==this.medium.key){var a=this.findColumnWithID(n.key);a&&(this.renderer.setElementClass(a,"ascending",!1),this.renderer.setElementClass(a,"descending",!1),this.renderer.setElementClass(a,"sortable",!0)),n.descending=!1,n.ascending=!1}}this.renderer.setElementClass(e,"fa-sort",!1),this.medium.ascending||!this.medium.ascending&&!this.medium.descending?(this.medium.descending=!0,this.medium.ascending=!1,this.renderer.setElementClass(e,"fa-sort-asc",!1),this.renderer.setElementClass(e,"fa-sort-desc",!0)):(this.medium.descending=!1,this.medium.ascending=!0,this.renderer.setElementClass(e,"fa-sort-desc",!1),this.renderer.setElementClass(e,"fa-sort-asc",!0)),this.tableSort(this.medium.key.split("."))}},e}();c.decorators=[{type:n.Directive,args:[{selector:"[tableSort]"}]}],c.ctorParameters=function(){return[{type:n.Renderer},{type:n.ElementRef}]},c.propDecorators={medium:[{type:n.Input,args:["medium"]}],headers:[{type:n.Input,args:["headers"]}],dropEffect:[{type:n.Input}],tableSort:[{type:n.Input,args:["tableSort"]}]};var h=function(){};h.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,i.DragDropModule,a.IntoPipeModule],declarations:[r,p,s,l,d,c],exports:[r,p],entryComponents:[],providers:[o],schemas:[n.CUSTOM_ELEMENTS_SCHEMA]}]}],h.ctorParameters=function(){return[]},e.FlexibleTableComponent=r,e.FlexibleTableModule=h,e.ɵc=s,e.ɵd=l,e.ɵa=o,e.ɵe=d,e.ɵf=c,e.ɵb=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=flexible-table.umd.min.js.map
